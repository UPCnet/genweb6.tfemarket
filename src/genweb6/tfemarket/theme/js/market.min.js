function setCookie(e,n,o){var a=new Date;a.setTime(a.getTime()+24*o*60*60*1e3),document.cookie=e+"="+n+";path=/;expires="+a.toUTCString()}function updateURLParameter(e,n,o){var a="",e=(c=e.split("?"))[0],t=c[1],i="";if(t)for(var c=t.split("&"),r=0;r<c.length;r++)c[r].split("=")[0]!=n&&(a+=i+c[r],i="&");return e+"?"+a+(i+""+n+"="+o)}function changeLangAndReload(e){setCookie("MERCAT_TFE_LANG",e);e=(new Date).getTime();-1<window.location.href.indexOf("?")?-1==window.location.href.indexOf("searchOffer")&&-1<(-1<window.location.href.indexOf("&search")||window.location.href.indexOf("?search"))?$("#formSearchOffers").submit():-1<window.location.href.indexOf("&ts")||-1<window.location.href.indexOf("?ts")?window.location=updateURLParameter(window.location.href,"ts",e):window.location=window.location.href+"&ts="+e:window.location=window.location.href+"?ts="+e}$.urlParam=function(e){e=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.href);return!!e&&e[1]},$(function(){$(".buscador-mercat .btn").on("click",function(){$(".spinner-mercat").fadeIn(500)}),$(".setLangCA").click(function(){changeLangAndReload("ca")}),$(".setLangEN").click(function(){changeLangAndReload("en")}),$(".setLangES").click(function(){changeLangAndReload("es")}),$('input[name="language"]').click(function(){0==$('input[name="language"]:checked').length&&$(this).prop("checked",!0)}),1==$("#formSearchOffers").attr("data-saved")&&$('input[name="language"]').prop("checked",!0);var e=$.urlParam("offer");e&&0<$("#heading-"+e).length&&($(".alert[role='alert']:not(.alert-mercat)").appendTo("#"+e+"-info"),$("html, body").animate({scrollTop:$("#heading-"+e).offset().top-100},1e3),$.urlParam("open")&&setTimeout(function(){$("#heading-"+e+" .accordion-button").trigger("click")},500))});