function setCookie(e,n,a){var i=new Date;i.setTime(i.getTime()+24*a*60*60*1e3),document.cookie=e+"="+n+";path=/;expires="+i.toUTCString()}function updateURLParameter(e,n,a){var i="",e=(c=e.split("?"))[0],o=c[1],t="";if(o)for(var c=o.split("&"),r=0;r<c.length;r++)c[r].split("=")[0]!=n&&(i+=t+c[r],t="&");return e+"?"+i+(t+""+n+"="+a)}function changeLangAndReload(e){setCookie("MERCAT_TFE_LANG",e);e=(new Date).getTime();-1<window.location.href.indexOf("?")?-1==window.location.href.indexOf("searchOffer")&&-1<(-1<window.location.href.indexOf("&search")||window.location.href.indexOf("?search"))?$("#formSearchOffers").submit():-1<window.location.href.indexOf("&ts")||-1<window.location.href.indexOf("?ts")?window.location=updateURLParameter(window.location.href,"ts",e):window.location=window.location.href+"&ts="+e:window.location=window.location.href+"?ts="+e}$.urlParam=function(e){e=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.href);return!!e&&e[1]},$(function(){$(".setLangCA").click(function(){changeLangAndReload("ca")}),$(".setLangEN").click(function(){changeLangAndReload("en")}),$(".setLangES").click(function(){changeLangAndReload("es")}),$('input[name="language"]').click(function(){0==$('input[name="language"]:checked').length&&$(this).prop("checked",!0)}),$('input[name="modality"]').click(function(){0==$('input[name="modality"]:checked').length&&$(this).prop("checked",!0)}),$(".expand").click(function(){$(this).hide(),$(this).parent().find(".notexpand").show(),$(this).parent().parent().parent().find(".offerData").slideDown()}),$(".notexpand").click(function(){$(this).hide(),$(this).parent().find(".expand").show(),$(this).parent().parent().parent().find(".offerData").slideUp()}),$("#buttonsSearch").click(function(){$("#collapseSearch").is(":visible")?($("#formSearchOffers").slideUp(),$("#expandSearch").show(),$("#collapseSearch").hide()):($("#formSearchOffers").slideDown(),$("#expandSearch").hide(),$("#collapseSearch").show())}),$("#expandAll").click(function(){$(".expand").parent().parent().parent().slideDown(),$(".expand").hide(),$(".notexpand").show(),$(".expand").parent().parent().parent().find(".offerData").slideDown(),$("#expandAll").hide(),$("#collapseAll").show()}),$("#collapseAll").click(function(){$(".notexpand").slideUp(),$(".notexpand").hide(),$(".expand").show(),$(".expand").parent().parent().parent().find(".offerData").slideUp(),$("#expandAll").show(),$("#collapseAll").hide()}),1==$("#formSearchOffers").attr("data-saved")&&($('input[name="language"]').prop("checked",!0),$('input[name="modality"]').prop("checked",!0));var e=$.urlParam("offer");e&&0<$("#"+e).length&&($(".alert[role='alert']:not(.offerInfo)").appendTo("#"+e+"-info"),$("html, body").animate({scrollTop:$("#"+e).offset().top-50},1e3),$("#"+e).trigger("click"),$.urlParam("open")&&setTimeout(function(){$("#"+e+"-applications").trigger("click")},500)),$(".showMoreInfo").click(function(){(offerInfo=$(this).parent().parent().parent().find(".moreInfo")).hasClass("hide")?($(this).find("i.fa").removeClass("fa-chevron-down").addClass("fa-chevron-up"),offerInfo.slideDown().removeClass("hide")):($(this).find("i.fa").removeClass("fa-chevron-up").addClass("fa-chevron-down"),offerInfo.slideUp().addClass("hide"))}),$(".showApplications").click(function(){(applications=$(this).parent().parent().parent().find(".applications")).hasClass("hide")?($(this).find(".showApplicationsLit").hide(),$(this).find(".hideApplicationsLit").show(),applications.slideDown().removeClass("hide")):($(applications).find("i.fa").removeClass("fa-chevron-up").addClass("fa-chevron-down"),$(this).find(".hideApplicationsLit").hide(),$(this).find(".showApplicationsLit").show(),applications.slideUp().addClass("hide"))}),$("#formSearchOffers .keyword").click(function(){input=$(this).find('input[name="key"]'),$(input).prop("checked")?($(this).removeClass("checked"),$(input).prop("checked",!1)):($(this).addClass("checked"),$(input).prop("checked",!0))})}),$(function(){$("#market #offersFilter").on("click",function(){$("#formSearchOffers").submit(),$("#market .loaderContainer").fadeIn(500)}),$('#market a[href="?allOffers"]').on("click",function(){$("#market .loaderContainer").fadeIn(500)}),$("#market .dropdown-menu a").on("click",function(){$("#market .loaderContainer").fadeIn(500)})});